import{a as p}from"./result_hash-CFfFGu58.js";import{j as f,k as m,l as d,m as h,q as v,d as x,o as g,c as b,a,F as w,s as y,u as _}from"./index-SQxJEC7n.js";function i(e){return typeof e=="function"?e():f(e)}const k=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const S=k?window.navigator:void 0;function B(){const e=d(!1),n=v();return n&&h(()=>{e.value=!0},n),e}function C(e){const n=B();return m(()=>(n.value,!!e()))}function M(e={},n={}){const{navigator:c=S}=n,s=c,r=C(()=>s&&"canShare"in s);return{isSupported:r,share:async(u={})=>{if(r.value){const o={...i(e),...i(u)};let t=!0;if(o.files&&s.canShare&&(t=s.canShare({files:o.files})),t)return s.share(o)}}}}const F={class:"fixed bottom-[calc(12dvh-20px)] right-6"},R=a("button",{class:"h-10 w-40 ml-1 bg-black rounded-2xl hover:scale-105"},[a("a",{href:"https://ntuartfest.com/",target:"_blank",rel:"noopener noreferrer",class:"text-xl text-white hover:text-yellow-400 text-center font-bold"},"回到藝術季官網")],-1),N=x({__name:"ResultView",setup(e){const n=y(),c=_(),s=n.hash.slice(1),r="/src/assets/results/"+s+".png",l=d({}),{share:u}=M(l);return h(async()=>{p.result.every(t=>t.hash!==s)&&c.push({path:"/404"});const o=await fetch(r).then(t=>t.blob());l.value.files=[new File([o],"result.png",{type:o.type})]}),(o,t)=>(g(),b(w,null,[a("div",{class:"mx-8 h-[calc(85dvh-52px)] flex justify-center items-center"},[a("img",{src:r,class:"max-h-[70dvh]"})]),a("div",F,[a("button",{class:"text-xl text-white mr-1 hover:text-yellow-400 font-bold h-10 w-16 bg-black text-center rounded-2xl hover:scale-105",onClick:t[0]||(t[0]=V=>f(u)())}," 分享 "),R])],64))}});export{N as default};
